module.exports = {
  config: {
    name: "emojibot",
    version: "1.0",
    credit: "SHANKAR SUMAN",
    countDown: 5,
    role: 0,
    shortDescription: "no-prefix",
    longDescription: "Bot Will Reply You In Nepali Language",
    category: "non-prefix",
    usePrefix: false, 
    guide: {
      en: "{p}{n}",
    }
  },

  onStart: async function ({  }) { },

  onChat: async function ({ api, event, args, Threads, userData }) {
    const { threadID, messageID, senderID } = event;
    const emojis = ["ЁЯША", "ЁЯШД", "ЁЯШБ", "ЁЯШЖ", "ЁЯШЕ", "ЁЯШВ", "ЁЯдг", "ЁЯШн", "ЁЯШЙ", "kamina", "kutta", "tharki", "call", "chuti", "pagal", "hate", "nikal", "bhag", "pgl", "wel", "ЁЯШе"];

    const replies = {
      "ЁЯША": ["рд╕рд░рд╛рдлрдд рд╕реЗ рдореБрд╕реНрдХреБрд░рд╛ рд░рд╣реЗ рд╣реЛ ЁЯШАЁЯША", "ЁЯШАЁЯШАЁЯШАЁЯША"],
      "ЁЯШД": ["рдЪреВрд╣реЗ рдЬреИрд╕рд╛ рдореБрд╣ рдордд рдмрдирд╛ ЁЯШЖ", "ЁЯШДЁЯШДЁЯШДЁЯШД"],
      "ЁЯШБ": ["рд▓рдЧрддрд╛ рд╣реИ рдЖрдЬ рдкрд╣рд▓реА рдмрд╛рд░ рдмреНрд░рд╢ рдХрд┐рдпрд╛ рд╣реИ ЁЯШБ", "рдХреЛрд▓рдЧреЗрдЯ рдХрд╛ рдкреНрд░рдЪрд╛рд░ рдХрд░ рд░рд╣реЗ рд╣реЛ рдХреНрдпрд╛?ЁЯШВ", "рдРрд╕реЗ рдХреМрди рд╣рд╕реНрддрд╛ рд╣реИ рджреЛрдиреЛ рджрд╛рдВрдд рдЪрд┐рдкрдХрд╛ рдХреЗ рдпрд╛рд░ЁЯШЭЁЯСИ"],
      "ЁЯШЖ": ["рдЖрдВрдЦ рдмрдВрдж рдХрд░рдХреЗ рдХреНрдпреВ рд╣рд╕ рд░рд╣реЗ рд╣реЛ рдард░рдХреА ЁЯШЖ", "рдЖрдВрдЦ рдЦреЛрд▓ рдХреЗ рд╣рд╕ рди рдореБрдЭреЗ рддреЗрд░реА рдЖрдВрдЦреЛрдВ рдореЗрдВ рдмрд╕ рдЬрд╛рдирд╛ рд╣реИредЁЯШЭ", "ЁЯШРЁЯШРЁЯШРЁЯШР"],
      "ЁЯШЕ": ["рддреЗрд░реЗ рд╕рд░ рд╕реЗ рдкрд╛рдиреА рдХреНрдпреВ рдЯрдкрдХ рд░рд╣рд╛ ЁЯШЕ", "рд▓рдЧрддрд╛ рддреЗрд░реЗ рд╕рд░ рдкрд░ рдКрдкрд░ рд╕реЗ рдХреМрд╡рд╛ рд╣рдЧ рджрд┐рдпрд╛ рд╣реИредЁЯШВ", "ЁЯШЕЁЯШЕЁЯШЕЁЯШЕ"],
      "ЁЯШВ": ["рдЗрддрдиреА рд╣рд╕реА рдХреНрдпреВ рдЖ рд░рд╣реА рд╣реИ рдЗрд╕ рд╣рд╕реА рдХреЗ рдкреАрдЫреЗ рдХреНрдпрд╛ рд░рд╛рдЬ рд╣реИ рдмрддрд╛рдУ рдмрддрд╛рдУ рд╣рдорд╕реЗ рдирд╛ рд╕рд░рдорд╛рдУ ЁЯШВЁЯдд", "рд╣рдВрд╕рдирд╛ рдирд╣реА рдЖрддрд╛ рд╣реИ рддреЛ рд╣рд╕рдореБрдЦрд┐рдпрд╛ рджреЗрд╡реА рд╕реЗ рдЬрд╛рдХрд░ рдорд┐рд▓реЛЁЯШР рд╕реАрдЦрд╛ рджреЗрдЧреА рд╡реЛЁЯе║", "ЁЯШВЁЯШВЁЯШВ"],
      "ЁЯдг": ["рдЬреНрдпрд╛рджрд╛ рдордд рд╣рд╕, рдПрдХ рдореБрдХреНрдХреЗ рдореЗ рд╕рд╛рд░реЗ рджрд╛рдВрдд рддреЛреЬ рджреВрдВрдЧрд╛ ЁЯШВ", "ЁЯдгЁЯдгЁЯдг"],
      "ЁЯШн": ["рдЕрд░реЗ рдпрд╛рд░ рд░реЛрддреЗ рдирд╣реА рдкрд╛рдЧрд▓ рдХрд┐рдпрд╛ рд╣реБрдЖ рд╣реИ рдореБрдЭреЗ рдмрддрд╛рдУ рдмрд╛рдмреВ ЁЯе║ЁЯе║ЁЯе║", "рдХреНрдпрд╛ рд╣реБрдЖ рдмрд╛рдмреВ рдХреНрдпреВрдВ рд░реЛ рд░рд╣реЗ рд╣реЛ рдЧреНрд░реБрдк рдореЗрдВ рдмрд╛рдврд╝ рдЖ рдЬрд╛рдПрдЧреАЁЯе║", "ЁЯШнЁЯШнЁЯШн"],
      "ЁЯШЙ": ["рдЖрдВрдЦ рдХреНрдпреВрдВ рдорд╛рд░ рд░рд╣реЗ рд╣реЛ ЁЯе║ЁЯдЯ", "рд╕рд░реЗрдЖрдо рдкрдмреНрд▓рд┐рдХ рдкреНрд▓реЗрд╕ рдореЗрдВ рдХрд┐рд╕рдХреЛ рдЖрдВрдЦ рдорд╛рд░ рд░рд╣реЗ рд╣реЛ рдмреЗрд╢рд░рдо?ЁЯзР", "ЁЯШЙЁЯШЙЁЯШЙ"],
      "kamina": ["рддреБ рд╣реИ рдХрдорд┐рдирд╛ рдореИрдВ рддреЛ рдмреЛрдЯ рд╣реВрдВредЁЯе║", "рддреБ рдбрдмрд▓ рдХрдорд┐рдирд╛ ЁЯШРЁЯдРЁЯШС", "рддреБ рд╣реИ рд╕рдмрд╕реЗ рдмрдбрд╝рд╛рдХрдорд┐рдирд╛", "рддреБ рд╣реИ рдХрдорд┐рдирд╛ рдореИрдВ рддреЛ рдмреЛрдЯ рд╣реВрдВредЁЯШРЁЯдР"],
      "kutta": ["рддреБ рдХреБрддрд┐рдпрд╛ ЁЯШ╖", "рдХреБрддреНрддрд╛ рдмреЛрд▓реЗ рддреЛ рдЧреНрд░реБрдк рд╕реЗ рднрд╛рдЧ рдЬрд╛рдКрдВрдЧрд╛ЁЯе║", "рджреВрд░ рд╣реЛ рдЬрд╛ рдХреБрддреНрддреЗ рдореЗрд░реЗ рдирдЬрд░реЛрдВ рд╕реЗ ЁЯШ╖"],
      "tharki": ["рддреБ рд╣реИ рдард░рдХреАЁЯе║", "рддреБ рд╣реИ рдард░рдХреА рдореИрдВ рддреЛ рдмреЛрдЯ рд╣реВрдВредЁЯе┤", "рддреБ рдард░рдХреА рддреЗрд░рд╛ рдмрд╛рдк рднреА рдард░рдХреА рдмрд╕ ЁЯШТЁЯСИ"],
      "call": ["рдпрд╛рд░ рдореИрдВ рдХреИрд╕реЗ рдХреЙрд▓ рдЖрдКрдВ рдореИрдВ рддреЛ рдмреЛрдЯ рд╣реВрдВредЁЯе║ЁЯСИ", "рдореИрдВ рдХреЙрд▓ рдирд╣реА рдЖ рд╕рдХрддрд╛ рдореЗрд░реА gf рдХрд╕рдо рджреА рд╣реИ рдЕрдЧрд░ рдХрд┐рд╕реА рдкрд░рд╛рдИ рд▓рдбрд╝рдХреА рд╕реЗ рдХреЙрд▓ рдкрд░ рдмрд╛рдд рдХрд┐рдпрд╛ рддреЛ рдХреБрдЯ рджреВрдВрдЧреАредЁЯе║ЁЯСИ", "рд░рд┐рдЪрд╛рд░реНрдЬ рдЦрддрдо рд╣реЛ рдЧрдпрд╛ ЁЯШТЁЯСИ", "рдирдВрдмрд░ рджреЛ рдмреЗрдмреА рдЕрднреА рдХреЙрд▓ рдЖрддрд╛ рд╣реВрдВредЁЯЩИЁЯСИ"],
      "chuti": ["рддреБ рд╣реИ рдЪреБрддрд┐рдпрд╛ ЁЯШбЁЯСИ", "рддреБ рд╣реИ рдЪреБрддрд┐рдпрд╛ рдореИрдВ рддреЛ рдмреЛрдЯ рд╣реВрдВредЁЯШТЁЯСИ", "рдЕрд░реЗ рдЪреБрддрд┐рдпрд╛ рдЪреБрдк рд╣реЛ рдЬрд╛ ЁЯШбЁЯШТЁЯСИ"],
      "pagal": ["рд╣рдо рдкрд╛рдЧрд▓ рдирд╣реА рдмрд╛рдмреВ рд╣рдорд╛рд░рд╛ рджрд┐рдорд╛рдЧ рдЦрд░рд╛рдм рд╣реИредЁЯШТЁЯШЭЁЯСИ", "рддреБрдо рднреА рдкрд╛рдЧрд▓ рд╣рдо рднреА рдкрд╛рдЧрд▓ рдкрд╛рдЧрд▓ рд╕рд╛рд░рд╛ рдЬрдорд╛рдирд╛", "рддреБрдо рд╣реЛ рдкрд╛рдЧрд▓ ЁЯШТЁЯСИ"],
      "hate": ["рдЖрдИ рдирдлрд░рдд рдЙрд╣ ЁЯШПЁЯСИ", "рдЖрдИ рд╣реЗрдЯ рдпреВ рдереВ ЁЯШПЁЯСИ", "рдЖрдИ рд▓рд╡ рдЙрд╣ рдмрд╛рдмреВ ЁЯШЭЁЯШШЁЯЩИЁЯСИ"],
      "nikal": ["рдХрд╣рд╛ рд╕реЗ рдирд┐рдХрд▓реВрдВ?ЁЯдФЁЯСИ", "рддреБ рдирд┐рдХрд▓ ЁЯШПЁЯСИ", "рдирд╣реА рдирд┐рдХрд▓рдирд╛ рд╣реИ рд╕рдордЭрд╛ ЁЯШПЁЯСИ"],
      "bhag": ["рд╣рд╛рдВ рдЪрд▓реЛ рд╣рдо рджреЛрдиреЛ рднрд╛рдЧ рдЪрд▓рддреЗ рд╣реИ ЁЯШЭЁЯСИ", "рддреБ рднрд╛рдЧ рдЬрд╛ рдард░рдХреА ЁЯШПЁЯСИ", "рдХрд┐рд╕рдХреЛ рд▓реЗрдХрд░ рднрд╛рдЧрдирд╛ рд╣реИ?ЁЯдФ"],
      "pgl": ["рд╣рдо рдкрд╛рдЧрд▓ рдирд╣реА рдмрд╛рдмреВ рд╣рдорд╛рд░рд╛ рджрд┐рдорд╛рдЧ рдЦрд░рд╛рдм рд╣реИредЁЯШТЁЯШЭЁЯСИ", "рддреБрдо рднреА рдкрд╛рдЧрд▓ рд╣рдо рднреА рдкрд╛рдЧрд▓ рдкрд╛рдЧрд▓ рд╕рд╛рд░рд╛ рдЬрдорд╛рдирд╛", "рддреБрдо рд╣реЛ рдкрд╛рдЧрд▓ ЁЯШТЁЯСИ"],
      "wel": ["рдзрдиреНрдпрд╡рд╛рдж ЁЯШЗЁЯдЪ", "рд╢реБрдХреНрд░рд┐рдпрд╛ ЁЯШЗЁЯдЪ", "рдЖрдкрдХрд╛ рдмрд╣реБрдд рдмрд╣реБрдд рдзрдиреНрдпрд╡рд╛рдж ЁЯШЗЁЯдЪ", "рдереИрдВрдХреНрдпреВ ЁЯШЗЁЯдЪ"],
      "ЁЯШе": ["рдмрд╛рдмреВ рдХрд┐рд╕рдиреЗ рдорд╛рд░рд╛ рдЖрдкрдХреЛ ЁЯШеЁЯСИ", "рд░реЛрдК рдирд╣реА рдореЗрд░реА рдЬрд╛рди ЁЯШеЁЯСИ", "рдХреНрдпрд╛ рд╣реБрдЖ рдмрд╛рдмреВ ЁЯШеЁЯСИ"],
    };

    // Array to store mentions
    const mentions = [];

    // Convert event.body to lowercase
    const lowercaseBody = event.body.toLowerCase();

    // Check if the lowercase message contains any of the emoji keys from replies
    for (const emoji of emojis) {
      if (typeof emoji === 'string') {
        // Check if the lowercase message includes the lowercase emoji
        if (lowercaseBody.includes(emoji.toLowerCase())) {
          const reply = replies[emoji];
          // If reply is an array, randomly select one reply
          const randomReply = Array.isArray(reply) ? reply[Math.floor(Math.random() * reply.length)] : reply;
          // Mention sender by getting user info
          const senderInfo = await api.getUserInfo(senderID);
                    const senderName = senderInfo[senderID].name;
          const msg = {
            body: `${senderName}, ${randomReply}`,
            mentions: [{
              tag: senderID,
              id: senderID
            }]
          };
          // Send the message with mention
          return api.sendMessage(msg, threadID, messageID);
        }
      }
    }

    // Check if the lowercase message contains any of the keys from replies
    for (const key in replies) {
      if (typeof replies[key] === 'string') {
        // Check if the lowercase message includes the lowercase key
        if (lowercaseBody.includes(key.toLowerCase())) {
          const reply = replies[key];
          // If reply is an array, randomly select one reply
          const randomReply = Array.isArray(reply) ? reply[Math.floor(Math.random() * reply.length)] : reply;
          // Mention sender by getting user info
          const senderInfo = await api.getUserInfo(senderID);
          const senderName = senderInfo[senderID].name;
          const msg = {
            body: `${senderName}, ${randomReply}`,
            mentions: [{
              tag: senderID,
              id: senderID
            }]
          };
          // Send the message with mention
          return api.sendMessage(msg, threadID, messageID);
        }
      }
    }
  }
};
